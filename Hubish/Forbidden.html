<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Forbidden Experiment</title>
  <link rel="stylesheet" href="/css/Forbidden.css">
  <link rel="stylesheet" type="text/css" href="/css/backbutton.css">
</head>
<body>
  <div class="container">
    <!-- Header Section -->
    <header class="classified-header">
      <h1>CLASSIFIED: Project Hive</h1>
      <div class="header-line"></div>
    </header>

    <!-- Main Content Section -->
    <div class="content">
      <h2 class="subheading">Experiment Report</h2>
      <p class="intro-text">
        This document contains highly confidential information regarding <span class="highlight">Project Hive</span>. 
        Unauthorized access will result in immediate termination of connection. Proceed with caution.
      </p>

      <div class="terminal">
        <div class="terminal-header">
          <span class="terminal-title">Terminal Access</span>
        </div>
        <div class="terminal-body">
          <p>> Attempting to decrypt hidden logs...</p>
          <p>> Logs partially recovered.</p>
          <p class="decrypted-log">
            **The Hive experiment resulted in catastrophic consequences. Those linked to the Hive's neural network experienced <span class="glitch">mind assimilation</span>.**
          </p>
          <p class="hint-text">Hint: Use 'ACCESS FILE 001' to reveal more.</p>
        </div>
      </div>
      <script>
        document.addEventListener("DOMContentLoaded", () => {
  const terminalBody = document.querySelector(".terminal-body");
  const terminalInput = document.createElement("input");

  // Set up the input box
  terminalInput.type = "text";
  terminalInput.className = "terminal-input";
  terminalBody.appendChild(terminalInput);
  terminalInput.focus();

  // Handle user input
  terminalInput.addEventListener("keydown", async (e) => {
    if (e.key === "Enter") {
      const userCommand = terminalInput.value.trim();
      terminalInput.value = ""; // Clear input box

      // Display the user's command
      const userCommandElement = document.createElement("p");
      userCommandElement.textContent = `> ${userCommand}`;
      terminalBody.appendChild(userCommandElement);

      try {
        // Fetch response from the server
        const response = await fetch(`/api/terminal?command=${encodeURIComponent(userCommand)}`);
        const data = await response.json();

        // Display the server's response
        const responseElement = document.createElement("p");
        responseElement.textContent = `> ${data.response}`;
        terminalBody.appendChild(responseElement);

        // Scroll to the bottom of the terminal
        terminalBody.scrollTop = terminalBody.scrollHeight;

        // Handle session termination
        if (userCommand.toUpperCase() === "EXIT") {
          terminalInput.remove();
        }
      } catch (error) {
        console.error("Error fetching terminal response:", error);
        const errorElement = document.createElement("p");
        errorElement.textContent = "> Error: Unable to process command.";
        terminalBody.appendChild(errorElement);
      }
    }
  });
});

      </script>
      <!-- Corrupted Image Section -->
      <div class="image-container">
        <img src="corrupted-image.png" alt="Corrupted Scientist File" class="corrupted-image">
        <p class="image-caption">Recovered File #3982: Dr. A. Quinn (Corrupted)</p>
      </div>
    </div>

    <!-- Footer Section -->
    <footer class="classified-footer">
      <p>Confidential: All activity on this page is monitored. Unauthorized access will be reported.</p>
    </footer>
  </div>
</body>
</html>
